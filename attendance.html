<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الحضور والغياب | نظام مقياس</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="attendance.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <main class="attendance-container">
        <header class="page-header animate-fade">
            <h1>سجل الانضباط المدرسي</h1>
            <p>متابعة دقيقة لحضورك وحصصك الدراسية</p>
        </header>

        <section class="card stats-main-card animate-slide-up">
            <div class="card-header">
                <h3><i class="fas fa-chart-area"></i> مؤشر الحضور التراكمي</h3>
                <div class="legend">
                    <span class="legend-item"><span class="dot attendance"></span> حضور</span>
                    <span class="legend-item"><span class="dot absence"></span> غياب</span>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="attendanceLineChart"></canvas>
            </div>
            <div class="total-summary" id="totalSummaryText">
                </div>
        </section>

        <section class="card last-week-card animate-slide-up" style="animation-delay: 0.2s;">
            <div class="card-header">
                <h3><i class="fas fa-calendar-day"></i> تفاصيل آخر أسبوع مُقيّم</h3>
                <span id="lastWeekLabel" class="week-tag">الأسبوع --</span>
            </div>
            <div class="attendance-details-grid">
                <div class="circular-progress-wrapper">
                    <div class="circular-progress" id="progressCircle">
                        <span id="attendancePercent">0%</span>
                    </div>
                    <p>نسبة حضور الأسبوع</p>
                </div>
                <div class="detailed-stats">
                    <div class="stat-box">
                        <span class="val" id="presentHolidays">0</span>
                        <span class="lbl">حصص حضور</span>
                    </div>
                    <div class="stat-box warning">
                        <span class="val" id="absentHolidays">0</span>
                        <span class="lbl">حصص غياب</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script type="module" src="attendance.js"></script>
</body>
</html>
